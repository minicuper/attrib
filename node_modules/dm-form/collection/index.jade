index:
  on rerender
    .formObject(class="{{if slave}}card{{/}}")
      if description
        .item.-divider {{description}}
      on values.length
        each values as #value
          if edit === #value.id
            section.-shadow
              view(name='form:{{items.input}}' meta='{{items}}' value='{{#value}}'
                  description='' slave)
                a.icon-cancel-circled(on-click='remove($at(#value))') &sp;
          else
            view(name='preview')
      form.item.-complex(on-submit='add()')
        input(type='text' value='{{newField}}'
            placeholder="{{labels.addPlaceholder || 'myDocument'}}")
        button.btn.-success {{labels.add || 'Add field'}}

preview:
  .item.-complex
    ._content {{#value.description}}
    b {{#value.input}} &nbsp;
    button.btn.icon-pencil(on-click="toggle(#value.id)")
